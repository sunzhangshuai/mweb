# undo log【回滚日志】

## 作用
- 当数据在操作过程中，内存中的数据会发生变更，而undo log的内容就依附于当前事务的操作。
- 记录了这个事务所有操作过的数据，在操作前的样子。
- 事务回滚的时候只需要按照undo log里的内容把数据改回来就行了。
- 一致性读往前追溯的时候，也可以通过数据的版本链roll_pointer沿着undo log去查找可以查看的值。

## 清理时机
当正在执行的事务中已经没有undo log的版本号时，在空闲时会清理undo log。