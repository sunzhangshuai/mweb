# 正排索引和倒排索引
- es文档的json文档中的每个字段，都有自己的倒排索引。
- 可以指定对某些字段不做索引。
    - 优点：节省存储空间。
    - 缺点：字段无法被搜索。

## 正排索引
文档id->文档内容

## 倒排索引
文档单词->文档id

### 核心组成
- 单词词典
    - 记录所有文档的单词，记录单词到倒排列表的关联关系。
    - 单词词典一般比较大，可通过B+树或哈希拉链法来实现。

- 倒排列表
    - 记录了单词对应的文档集合，由倒排索引项组成。
    - 倒排索引项
        - 文档id
        - 词频TF，单词在文档中出现的次数，用于相关性打分。
        - 位置，单子在文档分词的位置，用于语句搜索。
        - 偏移，记录单词的开始结束位置，实现高亮显示