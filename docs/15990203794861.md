# 单例模式

## 定义
一个类只允许创建一个对象（或者叫实例），那这个类就是一个单例类。

## 用处
有些数据在系统中只应该保存一份，就比较适合设计为单例类。
- 配置文件

## 单例存在的问题
- 单例对 OOP 特性的支持不友好。
- 单例会隐藏类之间的依赖关系。
- 单例对代码的扩展性不友好。
- 单例对代码的可测试性不友好。
- 单例不支持有参数的构造函数。

## 实现
对于php来说，只能实现懒汉式。
- 饿汉式
- 懒汉式

## 作用范围
- 集群唯一

        获取对象时，要从文件中获取，并加锁。
        释放时，将对象放回文件，并显示释放锁。
- 进程唯一

        经典单例模式
- 线程唯一

        instance用数组实现，不同的线程id对应一个对象。其实也叫多例