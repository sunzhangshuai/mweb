# count()
- 效率排名：count(字段)<count(id)<count(1)≈count(*)

## count(*)
- 语义：表示满足条件的结果集的总行数。

### 实现方式
- myisam：在磁盘上存储了总行数，查询时，直接从磁盘获取。
- innodb：不会把全部字段取出来，而是专门做了优化，不取值。server层判断肯定不是 null，按行累加。

## count(主键 id)
- 语义：表示满足条件的结果集的总行数。

### 实现方式
innodb引擎会遍历整张表，把每一行的id取出来，返回给server层，server层判断是不可能为空的，按行累加。

## count(1)
- 语义：表示满足条件的结果集的总行数。

### 实现方式
innodb引擎会遍历整张表，但不取值，server层对于返回的每一行，放一个数字"1"进去，判断是不可能为空的，按行累加。

## count(字段)
- 语义：表示满足条件的数据行里面，参数「字段」不为null的总个数。

### 实现方式
判断字段定义：
- not null：一行行从记录里读出这个字段，判断是不可能为null的，按行累加
- null：一行行从记录里读出这个字段，判断如果不是null，按行累加

## 计数优化
- 用缓存系统保存计数
    - 缺点：更新丢失，逻辑不一致
- 在数据库保存计数